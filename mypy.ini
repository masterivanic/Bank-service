[mypy]
django_settings_module = exalt_hexarch.settings
exclude = ^.*test
incremental = true

# Start off with these
warn_unused_configs = True
warn_redundant_casts = True
warn_unused_ignores = True

# Getting these passing should be easy
strict_equality = True
extra_checks = True
explicit_package_bases = true

# Strongly recommend enabling this one as soon as you can
check_untyped_defs = True

# These shouldn't be too much additional work, but may be tricky to
# get passing if you use a lot of untyped libraries
disallow_subclassing_any = True
disallow_untyped_decorators = True
disallow_any_generics = True

# These next few are various gradations of forcing use of type annotations
disallow_untyped_calls = True
disallow_incomplete_defs = True
disallow_untyped_defs = True

# This one isn't too hard to get passing, but return on investment is lower
no_implicit_reexport = True

# This one can be tricky to get passing if you use a lot of untyped libraries
warn_return_any = True

[mypy-yaml.*]
disallow_untyped_defs = false
disallow_incomplete_defs = false

[mypy-cryptography.*]
ignore_errors = true

# Ignore Django management commands
[mypy-manage]
ignore_errors = True

[mypy-*manage*]
ignore_errors = True

# Ignore Django migrations
[mypy-*.migrations.*]
ignore_errors = True

[mypy-*migrations*]
ignore_errors = True

# Ignore Django admin
[mypy-*.admin.*]
ignore_errors = True

# Ignore Django forms
[mypy-*.forms.*]
ignore_errors = True

# Ignore Django models
[mypy-*.models.*]
ignore_errors = True

# Ignore Django views
[mypy-*.views.*]
ignore_errors = True

# Ignore Django URLs
[mypy-*.urls.*]
ignore_errors = True

# Ignore ALL entity files - ADD THIS SECTION
[mypy-bank_app.application.adapter.persistence.entity.*]
ignore_errors = True

# Ignore files containing "entity" in name
[mypy-*entity*]
ignore_errors = True

# Ignore files ending with Entity
[mypy-*Entity]
ignore_errors = True

# Ignore specific problematic modules (REMOVED DUPLICATE)
[mypy-bank_app.application.domain.model.*]
ignore_errors = True

# Ignore missing imports for third-party packages and problematic paths
[mypy-*]
ignore_missing_imports = True

# But enforce type checking for your main application code
[mypy-exalt_hexarch.*]
ignore_missing_imports = False

[mypy-bank_app.application.*]
ignore_missing_imports = False

# Specifically ignore the problematic import chain
[mypy-bank_app.application.domain.dtos.queries]
ignore_errors = True